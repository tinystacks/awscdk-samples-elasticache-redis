"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.validateName = exports.NameValidationResponse = void 0;
class NameValidationResponse {
    constructor(isValid, reason) {
        this.isValid = isValid;
        this.reason = reason;
    }
}
exports.NameValidationResponse = NameValidationResponse;
function validateName(name = '', nameRestriction = {}, label = 'Name') {
    const { minimumLength, characterLimit, characterRestrictions, allowedCharacterTypes } = nameRestriction;
    if (minimumLength && name.length < minimumLength) {
        return new NameValidationResponse(false, `${label} must be at least ${minimumLength} characters!`);
    }
    if (characterLimit && name.length > characterLimit) {
        return new NameValidationResponse(false, `${label} must be less than ${characterLimit} characters!`);
    }
    if (characterRestrictions && characterRestrictions.test(name)) {
        return new NameValidationResponse(false, `${label} can only contain ${allowedCharacterTypes}!`);
    }
    return new NameValidationResponse(true);
}
exports.validateName = validateName;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmFsaWRhdGUtbmFtZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9uYW1pbmcvdmFsaWRhdGUtbmFtZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFPQSxNQUFNLHNCQUFzQjtJQUMxQixZQUFhLE9BQWdCLEVBQUUsTUFBZTtRQUM1QyxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN2QixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztJQUN2QixDQUFDO0NBQ0Y7QUEwQkMsd0RBQXNCO0FBeEJ4QixTQUFTLFlBQVksQ0FBRSxJQUFJLEdBQUcsRUFBRSxFQUFFLGtCQUFtQyxFQUFFLEVBQUUsS0FBSyxHQUFHLE1BQU07SUFDckYsTUFBTSxFQUNKLGFBQWEsRUFDYixjQUFjLEVBQ2QscUJBQXFCLEVBQ3JCLHFCQUFxQixFQUN0QixHQUFHLGVBQWUsQ0FBQztJQUVwQixJQUFJLGFBQWEsSUFBSSxJQUFJLENBQUMsTUFBTSxHQUFHLGFBQWEsRUFBRTtRQUNoRCxPQUFPLElBQUksc0JBQXNCLENBQUMsS0FBSyxFQUFFLEdBQUcsS0FBSyxxQkFBcUIsYUFBYSxjQUFjLENBQUMsQ0FBQztLQUNwRztJQUVELElBQUksY0FBYyxJQUFJLElBQUksQ0FBQyxNQUFNLEdBQUcsY0FBYyxFQUFFO1FBQ2xELE9BQU8sSUFBSSxzQkFBc0IsQ0FBQyxLQUFLLEVBQUUsR0FBRyxLQUFLLHNCQUFzQixjQUFjLGNBQWMsQ0FBQyxDQUFDO0tBQ3RHO0lBRUQsSUFBSSxxQkFBcUIsSUFBSSxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDN0QsT0FBTyxJQUFJLHNCQUFzQixDQUFDLEtBQUssRUFBRSxHQUFHLEtBQUsscUJBQXFCLHFCQUFxQixHQUFHLENBQUMsQ0FBQztLQUNqRztJQUVELE9BQU8sSUFBSSxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUMxQyxDQUFDO0FBSUMsb0NBQVkiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOYW1lUmVzdHJpY3Rpb24gfSBmcm9tICcuJztcblxuaW50ZXJmYWNlIE5hbWVWYWxpZGF0aW9uUmVzcG9uc2Uge1xuICBpc1ZhbGlkOiBib29sZWFuO1xuICByZWFzb24/OiBzdHJpbmc7XG59XG5cbmNsYXNzIE5hbWVWYWxpZGF0aW9uUmVzcG9uc2UgaW1wbGVtZW50cyBOYW1lVmFsaWRhdGlvblJlc3BvbnNlIHtcbiAgY29uc3RydWN0b3IgKGlzVmFsaWQ6IGJvb2xlYW4sIHJlYXNvbj86IHN0cmluZykge1xuICAgIHRoaXMuaXNWYWxpZCA9IGlzVmFsaWQ7XG4gICAgdGhpcy5yZWFzb24gPSByZWFzb247XG4gIH1cbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVOYW1lIChuYW1lID0gJycsIG5hbWVSZXN0cmljdGlvbjogTmFtZVJlc3RyaWN0aW9uID0ge30sIGxhYmVsID0gJ05hbWUnKTogTmFtZVZhbGlkYXRpb25SZXNwb25zZSB7XG4gIGNvbnN0IHtcbiAgICBtaW5pbXVtTGVuZ3RoLFxuICAgIGNoYXJhY3RlckxpbWl0LFxuICAgIGNoYXJhY3RlclJlc3RyaWN0aW9ucyxcbiAgICBhbGxvd2VkQ2hhcmFjdGVyVHlwZXNcbiAgfSA9IG5hbWVSZXN0cmljdGlvbjtcblxuICBpZiAobWluaW11bUxlbmd0aCAmJiBuYW1lLmxlbmd0aCA8IG1pbmltdW1MZW5ndGgpIHtcbiAgICByZXR1cm4gbmV3IE5hbWVWYWxpZGF0aW9uUmVzcG9uc2UoZmFsc2UsIGAke2xhYmVsfSBtdXN0IGJlIGF0IGxlYXN0ICR7bWluaW11bUxlbmd0aH0gY2hhcmFjdGVycyFgKTtcbiAgfVxuICBcbiAgaWYgKGNoYXJhY3RlckxpbWl0ICYmIG5hbWUubGVuZ3RoID4gY2hhcmFjdGVyTGltaXQpIHtcbiAgICByZXR1cm4gbmV3IE5hbWVWYWxpZGF0aW9uUmVzcG9uc2UoZmFsc2UsIGAke2xhYmVsfSBtdXN0IGJlIGxlc3MgdGhhbiAke2NoYXJhY3RlckxpbWl0fSBjaGFyYWN0ZXJzIWApO1xuICB9XG5cbiAgaWYgKGNoYXJhY3RlclJlc3RyaWN0aW9ucyAmJiBjaGFyYWN0ZXJSZXN0cmljdGlvbnMudGVzdChuYW1lKSkge1xuICAgIHJldHVybiBuZXcgTmFtZVZhbGlkYXRpb25SZXNwb25zZShmYWxzZSwgYCR7bGFiZWx9IGNhbiBvbmx5IGNvbnRhaW4gJHthbGxvd2VkQ2hhcmFjdGVyVHlwZXN9IWApO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBOYW1lVmFsaWRhdGlvblJlc3BvbnNlKHRydWUpO1xufVxuXG5leHBvcnQge1xuICBOYW1lVmFsaWRhdGlvblJlc3BvbnNlLFxuICB2YWxpZGF0ZU5hbWVcbn07Il19